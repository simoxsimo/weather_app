!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=(()=>{const e=e=>e.city,t=e=>e.country;return{apiCall:()=>fetch("http://ip-api.com/json/").then(e=>e.json()).then(r=>({city:e(r),country:t(r)})).catch(()=>{console.error("Error!! can't get response from ip api")})}})();var a={apiCall:e=>e.then(e=>fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e.city}&appid=15609b3767af2a096f31de7e936b27ec`)).then(e=>e.json()).catch(()=>{console.error("Error!! can't get response from weather api")})};(()=>{const e={body:document.querySelector("body")},t=t=>((t=>{e.locationHeader=document.createElement("h3"),e.locationHeader.appendChild(document.createTextNode(t)),e.contentSection.prepend(e.locationHeader)})(`${t.city}, ${t.country}`),t),r=r=>r().then(t=>(e.searchButton=document.createElement("button"),e.searchButton.setAttribute("id","search"),e.searchButton.appendChild(document.createTextNode("test")),e.contentSection.prepend(e.searchButton),t)).then(e=>t(e)),i=t=>((t=>{e.weatherTempHeaderDiv=document.createElement("div"),e.weatherTempHeader=document.createElement("h1"),e.weatherTempHeaderDiv.setAttribute("id","weather-header"),e.weatherTempHeader.appendChild(document.createTextNode(t)),e.weatherTempHeaderDiv.appendChild(e.weatherTempHeader),e.weatherSection.appendChild(e.weatherTempHeaderDiv)})(Math.round(t.main.temp-273.15)+" ℃"),t),d=t=>((t=>{e.weatherTempDescription=document.createElement("h4"),e.weatherTempDescription.appendChild(document.createTextNode(t)),e.weatherSection.appendChild(e.weatherTempDescription)})(t.weather[0].description),t),o=t=>((t=>{e.weatherTempFeelsLike=document.createElement("p"),e.weatherTempFeelsLike.appendChild(document.createTextNode(`Feels Like: ${Math.round(t-273.15)} ℃`)),e.weatherTempOtherStatsDiv.appendChild(e.weatherTempFeelsLike)})(t.main.feels_like),t),c=t=>((t=>{e.weatherPressure=document.createElement("p"),e.weatherPressure.appendChild(document.createTextNode(`Pressure: ${t} hPa(mb)`)),e.weatherTempOtherStatsDiv.appendChild(e.weatherPressure)})(t.main.pressure),t),p=t=>((t=>{e.weatherHumidity=document.createElement("p"),e.weatherHumidity.appendChild(document.createTextNode(`Humidity: ${t}%`)),e.weatherTempOtherStatsDiv.appendChild(e.weatherHumidity)})(t.main.humidity),t),h=t=>((t=>{e.weatherWindSpeed=document.createElement("p"),e.weatherWindSpeed.appendChild(document.createTextNode(`Wind: ${t} m/s`)),e.weatherTempOtherStatsDiv.appendChild(e.weatherWindSpeed)})(t.wind.speed),t),u=t=>(e.weatherTempOtherStatsDiv=document.createElement("div"),e.weatherTempOtherStatsDiv.setAttribute("id","weather-extra-stats"),e.weatherSection.appendChild(e.weatherTempOtherStatsDiv),o(t),c(t),p(t),h(t),t),m=e=>new Date(1e3*e).toLocaleString("en-US",{hour:"numeric",minute:"numeric"}),s=t=>(e.weatherTempSunTimerDiv=document.createElement("div"),e.weatherTempSunTimerDiv.setAttribute("id","sun-stats"),e.weatherSection.appendChild(e.weatherTempSunTimerDiv),(t=>{e.weatherSunriseTimer=document.createElement("p"),e.weatherSunriseTimer.setAttribute("id","sunrise"),e.weatherSunriseTimer.appendChild(document.createTextNode("Sunrise: "+m(t))),e.weatherTempSunTimerDiv.appendChild(e.weatherSunriseTimer)})(t.sys.sunrise+t.timezone),(t=>{e.weatherSunsetTimer=document.createElement("p"),e.weatherSunsetTimer.setAttribute("id","sunset"),e.weatherSunsetTimer.appendChild(document.createTextNode("Sunset: "+m(t))),e.weatherTempSunTimerDiv.appendChild(e.weatherSunsetTimer)})(t.sys.sunset+t.timezone),t),l=t=>((t=>{e.weatherDataTime=document.createElement("p"),e.weatherDataTime.setAttribute("id","data-time"),e.weatherDataTime.appendChild(document.createTextNode("Updated at "+m(t))),e.weatherSection.appendChild(e.weatherDataTime)})(t.dt+t.timezone),t),w=e=>e.then(e=>i(e)).then(e=>d(e)).then(e=>u(e)).then(e=>s(e)).then(e=>l(e)),T=t=>{t.preventDefault(),t.target&&"search"===t.target.id&&void 0===e.searchField?(e.searchField=document.createElement("input"),e.searchField.setAttribute("type","text"),e.contentSection.prepend(e.searchField)):t.target&&"search"!==t.target.id&&"INPUT"!==t.target.tagName&&void 0!==e.searchField&&(e.searchField.remove(),e.searchField=void 0)},S=t=>{var r;t.preventDefault(),13===t.keyCode&&((r=t.target).value||(r.placeholder="Please Fill this field",0))&&(e.weatherSection.textContent="",e.locationHeader.textContent=t.target.value[0].toUpperCase()+t.target.value.slice(1),w(a.apiCall(Promise.resolve({city:t.target.value}))),t.target.value="")};return{run:()=>{e.contentSection=document.createElement("section"),e.contentSection.setAttribute("id","app"),e.body.prepend(e.contentSection),e.weatherSection=document.createElement("section"),e.weatherSection.setAttribute("id","weather-stats"),e.contentSection.prepend(e.weatherSection),w(a.apiCall(r(n.apiCall))),document.addEventListener("click",T),document.addEventListener("keyup",S)}}})().run()}]);